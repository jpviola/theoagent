@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #1a1a1a;
  --vatican-yellow: #ffd700;
  --vatican-gold: #f4c430;
  --vatican-white: #ffffff;
  --vatican-cream: #fffaec;
  --vatican-dark: #8b7355;
  --gold-400: #ffd700;
  --gold-300: #f4c430;
  --gold-500: #daa520;
  --amber-400: #ffd700;
  --amber-500: #f4c430;
}

.dark {
  /* Slightly lighter neutral dark palette to preserve translucency */
  --background: #1f2937; /* slate-800 — less deep than slate-900 */
  --foreground: #e6eef6; /* soft gray for text */
  --vatican-cream: #0b1220;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: 'Geist Sans', Arial, Helvetica, sans-serif;
  overflow-x: hidden;
}

/* Custom animations */
@keyframes float {
  0%, 100% { 
    transform: translateY(0px) rotate(0deg);
    opacity: 0.6;
  }
  50% { 
    transform: translateY(-20px) rotate(10deg);
    opacity: 0.8;
  }
}

@keyframes float-delayed {
  0%, 100% { 
    transform: translateY(0px) rotate(0deg);
    opacity: 0.4;
  }
  50% { 
    transform: translateY(-30px) rotate(-10deg);
    opacity: 0.7;
  }
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.8; }
}

@keyframes stars-move {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-100px); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-delayed {
  animation: float-delayed 8s ease-in-out infinite;
}

.animate-twinkle {
  animation: twinkle 3s ease-in-out infinite alternate;
}

/* Stars background */
.bg-stars {
  background-image: 
    radial-gradient(2px 2px at 20px 30px, #eee, transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
    radial-gradient(1px 1px at 90px 40px, #fff, transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
    radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
  background-repeat: repeat;
  background-size: 200px 100px;
  animation: stars-move 20s linear infinite;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(15, 20, 25, 0.5);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--gold-400), var(--amber-500));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--gold-300), var(--gold-400));
}

/* RAG Test Lab Animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.animate-fade-in {
  animation: fade-in 0.6s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out;
}

.animate-shake {
  animation: shake 0.5s ease-out;
}

/* Dark-mode overrides for utility classes that didn't include dark: variants.
   Use a neutral slate/gray palette to avoid overly blue hues and ensure
   good contrast for text, images and UI elements. These pragmatic
   fallbacks cover components that still use hard-coded Tailwind colors. */
.dark .bg-white { background-color: #0f1724 !important; }
.dark .bg-gradient-to-b, .dark .bg-gradient-to-br, .dark .bg-gradient-to-r {
  /* Softer overlay so translucent hero art remains visible */
  background-image: linear-gradient(180deg, rgba(31,41,55,0.86), rgba(15,23,42,0.86)) !important;
}
.dark .from-amber-50, .dark .from-yellow-50, .dark .from-amber-900, .dark .from-amber-500 { background-image: none !important; }
.dark .border-yellow-200, .dark .border-amber-200 { border-color: rgba(255,255,255,0.06) !important; }
.dark .shadow-yellow-500\/40, .dark .shadow-green-500\/40 { box-shadow: 0 10px 25px rgba(0,0,0,0.6) !important; }
.dark .bg-green-50, .dark .bg-green-900\/20, .dark .bg-amber-50 { background-color: rgba(255,255,255,0.02) !important; }

/* Map commonly used blue/saturated utilities to muted dark tones */
.dark .from-blue-500, .dark .from-sky-500, .dark .bg-blue-500, .dark .text-blue-800,
.dark .to-blue-600, .dark .bg-sky-500, .dark .from-blue-600 {
  background-image: linear-gradient(180deg, rgba(30,41,59,0.9), rgba(15,23,42,0.9)) !important;
  background-color: rgba(255,255,255,0.02) !important;
  color: var(--foreground) !important;
}

/* Ensure images and SVGs remain visible in dark mode */
.dark img, .dark svg {
  /* Ensure decorative/translucent images remain visible over dark backgrounds */
  filter: brightness(1.08) saturate(1.05) contrast(1.02) !important;
  opacity: 1 !important;
}

/* Ensure body and main background/text variables apply */
.dark body, .dark main { background: var(--background) !important; color: var(--foreground) !important; }

/* Dark theme variables — neutral, higher-contrast values.
   These are intentionally conservative to preserve translucency on
   hero images while improving text legibility (lighter text, muted
   surfaces). Keep changes localized rather than forcing every
   element via `!important`. */
.dark {
  --background: #0b1220; /* deep neutral navy */
  --foreground: #e6eef6; /* soft light gray for text */
  --vatican-cream: #0b1220;
}

/* Less aggressive utility fallbacks for components still using
   hard-coded Tailwind utility classes without `dark:` variants. */
.dark .bg-white { background-color: #071021 !important; }
.dark .bg-gray-50 { background-color: rgba(255,255,255,0.02) !important; }
.dark .text-gray-900 { color: var(--foreground) !important; }

/* Keep images/SVGs visible but avoid globally forcing styles on all elements. */
.dark img, .dark svg {
  filter: brightness(1.08) saturate(1.05) contrast(1.02) !important;
}

/* Remove persistent header hairline and shadow in dark mode that can
   create a visual cut with the hero section. This targets the
   sticky header specifically and forces a transparent border and no
   shadow when `.dark` is active. */
.dark header {
  border-bottom-color: transparent !important;
  box-shadow: none !important;
}

/* Force header to use a solid dark background and disable backdrop blur in
   dark mode to avoid subtle seams caused by translucency or backdrop
   compositing. This is intentionally specific to `.dark header` so the
   light theme remains unchanged. */
.dark header {
  background-image: none !important;
  background-color: var(--background) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* In case header children or utility classes add a thin divider, hide it. */
.dark header * {
  outline: none !important;
}

/* Extra strong overrides to eliminate any remaining thin divider
   shown between the header and the hero (including borders, pseudo-
   elements, or adjacent sibling rules that may draw a top border).
   These are intentionally narrowly scoped to dark mode to avoid
   altering the light theme's intended separators. */
.dark header,
.dark header::before,
.dark header::after,
.dark header * {
  border-bottom-color: transparent !important;
  border-color: transparent !important;
  border-top-color: transparent !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* If the section directly after the header adds a top border, clear it. */
.dark header + * {
  border-top-color: transparent !important;
  box-shadow: none !important;
}

/* As a last resort, hide any 1px horizontal rules near the top of the page in dark mode. */
.dark hr[role="separator"],
.dark hr[aria-hidden="true"] {
  display: none !important;
  height: 0 !important;
  border: 0 !important;
}

/* Cover any remaining 1px seam by drawing a short overlay that matches
   the page background. This sits at the bottom of the header and hides
   thin lines caused by adjacent borders, subpixel seams or rendering
   artifacts. It's scoped to dark mode and kept tiny. */
.dark header::after {
  display: none !important;
}

/* Ensure the first hero section's very top matches the header background in
   dark mode to hide any seam caused by overlapping gradients or subpixel
   rendering. This draws a tiny cover strip and forces a matching bg at the
   top edge. */
.dark .hero-section {
  background-image: none !important;
  background-color: var(--background) !important;
  position: relative;
}
.dark .hero-section::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 3px;
  background: var(--background) !important;
  pointer-events: none;
  z-index: 40;
}

/* Preserve the light-mode gradients/colours for important buttons when
   `.preserve-light-bg-*` classes are used. This keeps their visual
   identity consistent across themes. Add the appropriate class to any
   other buttons that should not change in dark mode. */
.dark .preserve-light-bg-yellow {
  background-image: linear-gradient(90deg, #f59e0b, #d97706) !important; /* yellow-500 -> amber-600 */
  color: #ffffff !important;
}
.dark .preserve-light-bg-yellow:hover {
  background-image: linear-gradient(90deg, #f59e0b, #ffb020) !important;
}

.dark .preserve-light-bg-green {
  background-image: linear-gradient(90deg, #10b981, #059669) !important; /* green-500 -> emerald-600 */
  color: #ffffff !important;
}
.dark .preserve-light-bg-green:hover {
  background-image: linear-gradient(90deg, #10b981, #17d38c) !important;
}

/* Ensure the internal hover overlay from `BlessedButton` does not darken
   preserved buttons — hide the absolute inset overlay for these buttons. */
.preserve-light-bg-yellow .absolute.inset-0,
.preserve-light-bg-green .absolute.inset-0 {
  display: none !important;
}
